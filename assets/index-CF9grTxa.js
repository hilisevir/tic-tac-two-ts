var E=Object.defineProperty;var b=(o,t,e)=>t in o?E(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var f=(o,t,e)=>b(o,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function e(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(i){if(i.ep)return;i.ep=!0;const n=e(i);fetch(i.href,n)}})();function w(o,t){const e=document.createElement("div");e.classList.add("board");const r=document.createElement("div");r.classList.add("board_message"),e.appendChild(r);const i=document.createElement("p");i.id="next-move-indicator",i.textContent="Next Move By: "+o.currentPlayer,r.appendChild(i);const n=document.createElement("p");n.id="win-message",r.appendChild(n);for(let d=0;d<5;d++){const a=document.createElement("div");a.classList.add("row");for(let s=0;s<5;s++){const c=document.createElement("div");d>=o.gridStartRow&&d<=o.gridEndRow&&s>=o.gridStartCol&&s<=o.gridEndCol&&c.classList.add("grid_cell"),c.classList.add("board_cell");const u=document.createElement("div");u.classList.add("piece"),u.textContent=o.board[d][s]||"",u.addEventListener("click",C=>t(d,s,C)),c.appendChild(u),a.appendChild(c)}e.appendChild(a)}return e}function v(o){const t=document.createElement("div");t.classList.add("parent"),document.body.appendChild(t);const e=document.createElement("h1");e.textContent="TIC TAC TWO",t.appendChild(e);const r=y(o);return t.appendChild(r),r}function y(o){const t=document.createElement("div");t.classList.add("board_controller");const e=document.createElement("div");e.classList.add("control_panel"),t.appendChild(e);const r=R(o),i=S();return e.appendChild(r),e.appendChild(i),t}function S(){const o=document.createElement("div");return o.classList.add("main_control"),[{class:"btn1",label:"Exit",route:"index.html"},{class:"btn2",label:"Reset",action:()=>location.reload()}].forEach(({class:e,label:r,route:i,action:n})=>{const d=document.createElement("button");d.classList.add("main-btn",e),d.textContent=r,i&&(d.dataset.route=i),n&&d.addEventListener("click",n),o.appendChild(d)}),o}function R(o){const t=document.createElement("div");t.classList.add("grid_control");const e=[{class:"up-left",symbol:"↖",dir:"up-left"},{class:"up",symbol:"↑",dir:"up"},{class:"up-right",symbol:"↗",dir:"up-right"},{class:"left",symbol:"←",dir:"left"},{class:"right",symbol:"→",dir:"right"},{class:"down-left",symbol:"↙",dir:"down-left"},{class:"down",symbol:"↓",dir:"down"},{class:"down-right",symbol:"↘",dir:"down-right"}],r=document.createElement("div");return r.classList.add("circle"),t.appendChild(r),e.forEach(({class:i,symbol:n,dir:d})=>{const a=document.createElement("button");a.classList.add("direction-btn",i),a.innerHTML=n,a.addEventListener("click",()=>o.moveGrid(d)),r.appendChild(a)}),t}class L{constructor(){f(this,"maxDepth",5);f(this,"BAD_MOVE_THRESHOLD",-5)}makeMove(t){let{move:e,score:r}=this.findBestMove(t);if(!e||r<=this.BAD_MOVE_THRESHOLD){let i=this.getAvailableGridMoves(t);if(i.length>0){let n=i[Math.floor(Math.random()*i.length)];t.moveGrid(n)}}else t.makeAMove(e.x,e.y)}getAvailableGridMoves(t){let e=[];return t.gridStartRow>0&&e.push("up"),t.gridEndRow<4&&e.push("down"),t.gridStartCol>0&&e.push("left"),t.gridEndCol<4&&e.push("right"),t.gridStartRow>0&&t.gridStartCol>0&&e.push("up-left"),t.gridStartRow>0&&t.gridEndCol<4&&e.push("up-right"),t.gridEndRow<4&&t.gridStartCol>0&&e.push("down-left"),t.gridEndRow<4&&t.gridEndCol<4&&e.push("down-right"),e}findBestMove(t){let e=-1/0,r=null,i=this.getAvailableMoves(t);for(let n of i){t.board[n.x][n.y]="O";let d=this.minimax(t,0,!1,-1/0,1/0);t.board[n.x][n.y]=null,d>e&&(e=d,r=n)}return{move:r,score:e}}minimax(t,e,r,i,n){let d=this.evaluate(t);if(d!==0||e>=this.maxDepth)return d;let a=this.getAvailableMoves(t);if(a.length===0)return 0;if(r){let s=-1/0;for(let c of a){t.board[c.x][c.y]="O";let u=this.minimax(t,e+1,!1,i,n);if(t.board[c.x][c.y]=null,s=Math.max(s,u),i=Math.max(i,u),n<=i)break}return s}else{let s=1/0;for(let c of a){t.board[c.x][c.y]="X";let u=this.minimax(t,e+1,!0,i,n);if(t.board[c.x][c.y]=null,s=Math.min(s,u),n=Math.min(n,u),n<=i)break}return s}}evaluate(t){return this.checkWin(t,"O")?10:this.checkWin(t,"X")?-10:0}getAvailableMoves(t){let e=[];for(let r=t.gridStartRow;r<=t.gridEndRow;r++)for(let i=t.gridStartCol;i<=t.gridEndCol;i++)t.board[r][i]||e.push({x:r,y:i});return e}checkWin(t,e){let r=t.gridEndRow-t.gridStartRow+1;for(let d=t.gridStartRow;d<=t.gridEndRow;d++){let a=!0;for(let s=t.gridStartCol;s<=t.gridEndCol;s++)if(t.board[d][s]!==e){a=!1;break}if(a)return!0}for(let d=t.gridStartCol;d<=t.gridEndCol;d++){let a=!0;for(let s=t.gridStartRow;s<=t.gridEndRow;s++)if(t.board[s][d]!==e){a=!1;break}if(a)return!0}let i=!0;for(let d=0;d<r;d++)if(t.board[t.gridStartRow+d][t.gridStartCol+d]!==e){i=!1;break}if(i)return!0;let n=!0;for(let d=0;d<r;d++)if(t.board[t.gridStartRow+d][t.gridEndCol-d]!==e){n=!1;break}return n}}function M(o,t,e){const r=e.target;l.makeAMove(o,t),r.innerHTML=l.board[o][t]||"&nbsp;"}let l=new T,k=v(l),x=w(l,M),A=new L;k.appendChild(x);function h(){_();let o=document.querySelectorAll(".board_cell"),t=document.querySelectorAll(".piece");if(o.forEach((i,n)=>{let d=Math.floor(n/5),a=n%5;d>=l.gridStartRow&&d<=l.gridEndRow&&a>=l.gridStartCol&&a<=l.gridEndCol?i.classList.add("grid_cell"):i.classList.remove("grid_cell"),t[n].textContent=l.board[d][a]||""}),p())return;l.currentPlayer=l.currentPlayer==="X"?"O":"X",m(),new URLSearchParams(window.location.search).get("mode")==="pvai"&&P()}function P(){l.currentPlayer==="O"&&(g(),setTimeout(()=>{A.makeMove(l)},500))}function m(){let o=document.getElementById("next-move-indicator");o&&(o.innerHTML="Next Move By: "+l.currentPlayer)}function p(){let o=!1;for(let r=l.gridStartRow;r<=l.gridEndRow;r++)l.board[r].slice(l.gridStartCol,l.gridEndCol+1).every(i=>i===l.currentPlayer)&&(o=!0);for(let r=l.gridStartCol;r<=l.gridEndCol;r++){let i=!0;for(let n=l.gridStartRow;n<=l.gridEndRow;n++)if(l.board[n][r]!==l.currentPlayer){i=!1;break}i&&(o=!0)}let t=!0;for(let r=0;r<=l.gridEndRow-l.gridStartRow;r++)if(l.board[l.gridStartRow+r][l.gridStartCol+r]!==l.currentPlayer){t=!1;break}t&&(o=!0);let e=!0;for(let r=0;r<=l.gridEndRow-l.gridStartRow;r++)if(l.board[l.gridStartRow+r][l.gridEndCol-r]!==l.currentPlayer){e=!1;break}if(e&&(o=!0),o){g();let r=document.getElementById("win-message");r&&(r.innerHTML=`${l.currentPlayer} wins!`,r.style.display="flex")}return o}function g(){document.querySelectorAll(".board_cell").forEach(o=>{o.classList.add("cell_block")}),document.querySelectorAll(".direction-btn").forEach(o=>{o.classList.add("cell_block")})}function _(){document.querySelectorAll(".board_cell").forEach(o=>{o.classList.remove("cell_block")}),document.querySelectorAll(".direction-btn").forEach(o=>{o.classList.remove("cell_block")})}class T{constructor(){f(this,"board",Array.from({length:5},()=>Array(5).fill(null)));f(this,"gridStartRow",1);f(this,"gridEndRow",3);f(this,"gridStartCol",1);f(this,"gridEndCol",3);f(this,"currentPlayer","X")}makeAMove(t,e){if(this.board[t][e]===null){if(this.board[t][e]=this.currentPlayer,h(),p())return;m()}else this.board[t][e]===this.currentPlayer&&(this.board[t][e]=null)}moveGrid(t){const e=this.gridStartRow,r=this.gridEndRow,i=this.gridEndCol,n=this.gridStartCol;switch(t){case"up":this.gridStartRow>0&&(this.gridStartRow--,this.gridEndRow--);break;case"down":this.gridEndRow<4&&(this.gridStartRow++,this.gridEndRow++);break;case"left":this.gridStartCol>0&&(this.gridStartCol--,this.gridEndCol--);break;case"right":this.gridEndCol<4&&(this.gridStartCol++,this.gridEndCol++);break;case"up-left":e>0&&n>0&&(this.gridStartRow--,this.gridEndRow--,this.gridStartCol--,this.gridEndCol--);break;case"up-right":e>0&&i<4&&(this.gridStartRow--,this.gridEndRow--,this.gridStartCol++,this.gridEndCol++);break;case"down-left":r<4&&n>0&&(this.gridStartRow++,this.gridEndRow++,this.gridStartCol--,this.gridEndCol--);break;case"down-right":r<4&&i<4&&(this.gridStartRow++,this.gridEndRow++,this.gridStartCol++,this.gridEndCol++);break}h()}}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".mode-button").forEach(o=>{o.addEventListener("click",()=>{const t=o.dataset.mode;t&&(window.location.href=`game.html?mode=${t}`)})}),document.querySelectorAll("[data-route]").forEach(o=>{o.addEventListener("click",()=>{const t=o.dataset.route;t&&(window.location.href=t)})})});function O(){const o=document.createElement("div");o.classList.add("main");const t=document.createElement("div");t.classList.add("header");const e=document.createElement("h1");e.textContent="Tic Tac Two",t.appendChild(e);const r=document.createElement("div");r.classList.add("game-mode");const i=document.createElement("h2");i.textContent="Choose Game Mode",r.appendChild(i);const n=document.createElement("input");n.type="button",n.classList.add("mode-button"),n.dataset.mode="pvp",n.value="Player vs Player";const d=document.createElement("input");d.type="button",d.classList.add("mode-button"),d.dataset.mode="pvai",d.value="Player vs AI",r.appendChild(n),r.appendChild(d),o.appendChild(t),o.appendChild(r),document.body.appendChild(o)}O();
